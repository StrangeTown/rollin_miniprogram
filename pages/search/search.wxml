<!--pages/search/search.wxml-->
<navigation-bar title="" back="{{true}}" color="black" background="#FFF"></navigation-bar>
<view class="search-container">
  <view class="input-result-card">
    <input class="search-input" placeholder="请输入要搜索的内容" focus="{{true}}" bindconfirm="onConfirm" value="{{searchValue}}" disabled="{{isLoading}}" />
    <view class="translated-result" wx:if="{{isLoading}}">
      <view class="loading-container">
        <view class="loading-spinner"></view>
        <view class="loading-text">搜索中...</view>
      </view>
    </view>
    <view class="translated-result" wx:elif="{{translatedResult}}">
      <view class="source-text">{{translatedSource}}</view>
      <view class="result-text">{{translatedResult}}</view>
    </view>
  </view>
  <view class="recent-results">
    <block wx:if="{{translatedResult}}">
      <block wx:for="{{recentResults}}" wx:key="index">
        <block wx:if="{{index > 0}}">
          <view class="recent-result-item">
            <view class="history-time">{{item.createdAt}}</view>
            <view class="history-result">{{item.result}}</view>
            <view class="history-input">{{item.input}}</view>
          </view>
        </block>
      </block>
    </block>
    <block wx:else>
      <block wx:for="{{recentResults}}" wx:key="index">
        <view class="recent-result-item">
          <view class="history-time">{{item.createdAt}}</view>
          <view class="history-result">{{item.result}}</view>
          <view class="history-input">{{item.input}}</view>
        </view>
      </block>
    </block>
    <button class="more-btn" bindtap="goToSentences">More</button>
  </view>
</view>